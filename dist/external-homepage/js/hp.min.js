/*!
 * University of Warwick ID7
 */
"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),/*!
 * jQuery panelSnap
 * Version 0.14.0
 *
 * Requires:
 * - jQuery 1.7 or higher (no jQuery.migrate needed)
 *
 * https://github.com/guidobouman/jquery-panelsnap
 *
 * Copyright 2013, Guido Bouman
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Date: Wed Feb 13 16:05:00 2013 +0100
 */
function(a,b,c,d){var e="panelSnap",f="plugin_"+e,g={isMouseDown:!1,isSnapping:!1,enabled:!0,scrollInterval:0,scrollOffset:0,init:function(b,d){var e=this;if(e.container=d,e.$container=a(d),e.$eventContainer=e.$container,e.$snapContainer=e.$container,e.$container.is("body")){e.$eventContainer=a(c),e.$snapContainer=a(c.documentElement);var f=navigator.userAgent;~f.indexOf("WebKit")&&(e.$snapContainer=a("body"))}if(e.updateScrollInterval(),e.options=a.extend(!0,{},a.fn.panelSnap.options,b),e.bind(),e.options.$menu!==!1&&a(".active",e.options.$menu).length>0)a(".active",e.options.$menu).click();else{var g=e.getPanel(":first");e.activatePanel(g)}return e},bind:function(){var c=this;c.bindProxied(c.$eventContainer,"scrollstop",c.scrollStop),c.bindProxied(c.$eventContainer,"mousewheel",c.mouseWheel),c.bindProxied(c.$eventContainer,"mousedown",c.mouseDown),c.bindProxied(c.$eventContainer,"mouseup",c.mouseUp),c.bindProxied(a(b),"resizestop",c.resize),c.options.keyboardNavigation.enabled&&c.bindProxied(a(b),"keydown",c.keyDown,c.$eventContainer),c.options.$menu!==!1&&c.bindProxied(a(c.options.$menu),"click",c.captureMenuClick,c.options.menuSelector)},bindProxied:function(b,c,d,e){var f=this;e="string"==typeof e?e:null,b.on(c+f.options.namespace,e,a.proxy(function(a){return d.call(f,a)},f))},destroy:function(){var c=this;c.$eventContainer.off(c.options.namespace),a(b).off(c.options.namespace),c.options.$menu!==!1&&a(c.options.menuSelector,c.options.$menu).off(c.options.namespace),c.$container.removeData(f)},scrollStop:function(a){var b=this;if(a.stopPropagation(),!b.isMouseDown&&!b.isSnapping){b.updateScrollInterval();var c,d=b.$snapContainer.scrollTop(),e=d-b.scrollOffset,f=b.$container[0].scrollHeight-b.scrollInterval,g=b.getPanel().length-1;c=b.enabled&&e<-b.options.directionThreshold&&e>-b.scrollInterval?Math.floor(d/b.scrollInterval):b.enabled&&e>b.options.directionThreshold&&e<b.scrollInterval?Math.ceil(d/b.scrollInterval):Math.round(d/b.scrollInterval),c=Math.max(0,Math.min(c,g));var h=b.getPanel(":eq("+c+")");return b.enabled?void(b.getPanelsInViewport().length<2||(0>=d||d>=f?(b.activatePanel(h),b.scrollOffset=0>=d?0:f):b.snapToPanel(h))):void(h.is(b.getPanel(".active"))||b.activatePanel(h))}},getPanelsInViewport:function(){var c=this,d=a(b),e={top:d.scrollTop()};e.bottom=e.top+d.height();var f=c.getPanel().filter(function(b,c){var d=a(c),f=d.offset();return f.bottom=f.top+d.outerHeight(),!(e.bottom<f.top||e.top>f.bottom)});return f},mouseWheel:function(a){var b=this;b.isSnapping&&(b.scrollOffset=b.$snapContainer.scrollTop(),b.$container.stop(!0),b.isSnapping=!1)},mouseDown:function(a){var b=this;b.isMouseDown=!0},mouseUp:function(a){var b=this;b.isMouseDown=!1,b.scrollOffset!==b.$snapContainer.scrollTop()&&b.scrollStop(a)},keyDown:function(a){var b=this,c=b.options.keyboardNavigation;if(b.enabled)if(b.isSnapping){if(a.which==c.previousPanelKey||a.which==c.nextPanelKey)return a.preventDefault(),!1}else switch(a.which){case c.previousPanelKey:a.preventDefault(),b.snapTo("prev",c.wrapAround);break;case c.nextPanelKey:a.preventDefault(),b.snapTo("next",c.wrapAround)}},resize:function(a){var b=this;if(b.updateScrollInterval(),b.enabled){var c=b.getPanel(".active");b.snapToPanel(c)}},captureMenuClick:function(b){var c=this,d=a(b.currentTarget).data("panel"),e=c.getPanel('[data-panel="'+d+'"]');return c.snapToPanel(e),!1},snapToPanel:function(a){var b=this;if(a.jquery){b.isSnapping=!0,b.options.onSnapStart.call(b,a),b.$container.trigger("panelsnap:start",[a]);var c=0;c=b.$container.is("body")?a.offset().top-b.options.offset:b.$snapContainer.scrollTop()+a.position().top-b.options.offset,b.$snapContainer.stop(!0).animate({scrollTop:c},b.options.slideSpeed,b.options.easing,function(){b.scrollOffset=b.$snapContainer.scrollTop(),b.isSnapping=!1,b.options.onSnapFinish.call(b,a),b.$container.trigger("panelsnap:finish",[a]),b.activatePanel(a)})}},activatePanel:function(b){var c=this;if(c.getPanel(".active").removeClass("active"),b.addClass("active"),c.options.$menu!==!1){var d=c.options.menuSelector+".active";a(d,c.options.$menu).removeClass("active");var e='[data-panel="'+b.data("panel")+'"]',f=c.options.menuSelector+e,g=a(f,c.options.$menu);g.addClass("active")}c.options.onActivate.call(c,b),c.$container.trigger("panelsnap:activate",[b])},getPanel:function(b){var c=this;return"undefined"==typeof b&&(b=""),a(c.options.panelSelector+b,c.$container)},snapTo:function(a,b){var c=this;"boolean"!=typeof b&&(b=!0);var d,e=c.getPanel(),f=e.index(c.getPanel(".active"));switch(a){case"prev":d=e.eq(f-1),1>f&&!b&&(d=[]);break;case"next":d=e.eq(f+1),d.length<1&&b&&(d=e.filter(":first"));break;case"first":d=e.filter(":first");break;case"last":d=e.filter(":last")}d.length>0&&c.snapToPanel(d)},getScrollInterval:function(){return this.$container.is("body")?b.innerHeight:this.$container.height()},updateScrollInterval:function(){this.scrollInterval=this.getScrollInterval()},enable:function(){var a=this;a.scrollOffset=a.$snapContainer.scrollTop(),a.enabled=!0},disable:function(){var a=this;a.enabled=!1},toggle:function(){var a=this;a.enabled?a.disable():a.enable()}};a.fn[e]=function(b){var c=Array.prototype.slice.call(arguments);return this.each(function(){var d=a.data(this,f);if("object"!=typeof b&&"init"!==b&&b){if(!d)return void a.error("Plugin is not initialized for this object yet.");if(!d[b])return void a.error("Method "+b+" does not exist on jQuery.panelSnap.");var e=b;b=c.slice(1),d[e].apply(d,b)}else{if(d)return void a.error("Plugin is already initialized for this object.");"init"===b&&(b=c[1]||{}),d=Object.create(g).init(b,this),a.data(this,f,d)}})},a.fn[e].options={$menu:!1,menuSelector:"a",panelSelector:"> section",namespace:".panelSnap",onSnapStart:function(){},onSnapFinish:function(){},onActivate:function(){},directionThreshold:50,slideSpeed:200,easing:"linear",offset:0,keyboardNavigation:{enabled:!1,nextPanelKey:40,previousPanelKey:38,wrapAround:!0}}}(jQuery,window,document),/*!
 * Special flavoured jQuery Mobile scrollstart & scrollstop events.
 * Version 0.1.3
 *
 * Requires:
 * - jQuery 1.7.1 or higher (no jQuery.migrate needed)
 *
 * Copyright 2013, Guido Bouman
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Date: Wed Feb 13 16:05:00 2013 +0100
 */
function(a){a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,b){a.type=b?"scrollstart":"scrollstop",f.trigger(a)}var c,d,e=this,f=a(e);f.data("scrollwatch",!0),f.on("touchstart",function(a){d=!0}),f.on("touchleave touchcancel touchend",function(a){d=!1,setTimeout(function(){clearTimeout(c)},50)}),f.on("touchmove scroll",function(e){d||a.event.special.scrollstart.enabled&&(a.event.special.scrollstart.scrolling||(a.event.special.scrollstart.scrolling=!0,b(e,!0)),clearTimeout(c),c=setTimeout(function(){a.event.special.scrollstart.scrolling=!1,b(e,!1)},50))})}},a.event.special.scrollstop={setup:function(){var b=this,c=a(b);c.data("scrollwatch")||a(this).on("scrollstart",function(){})}}}(jQuery),/*!
 * Resizestart and resizestop events.
 * Version 0.0.1
 *
 * Requires:
 * - jQuery 1.7.1 or higher (no jQuery.migrate needed)
 *
 * Copyright 2013, Guido Bouman
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Date: Fri Oct 25 15:05:00 2013 +0100
 */
function(a){a.event.special.resizestart={enabled:!0,setup:function(){function b(a,b){a.type=b?"resizestart":"resizestop",e.trigger(a)}var c,d=this,e=a(d);e.data("resizewatch",!0),e.on("resize",function(d){a.event.special.resizestart.enabled&&(a.event.special.resizestart.resizing||(a.event.special.resizestart.resizing=!0,b(d,!0)),clearTimeout(c),c=setTimeout(function(){a.event.special.resizestart.resizing=!1,b(d,!1)},200))})}},a.event.special.resizestop={setup:function(){var b=this,c=a(b);c.data("resizewatch")||a(this).on("resizestart",function(){})}}}(jQuery),/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 *
 * Requires: 1.2.2+
 */
function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=0,g=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),g=e,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(g=0,f=-1*e),void 0!==c.wheelDeltaY&&(g=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(f=-1*c.wheelDeltaX/120),d.unshift(b,e,f,g),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),function(a){"use strict";var b={PanelsCSSTemplate:_.template(["body .id7-masthead .id7-search .id7-search-box {","border-color: <%= colour %>;","}","body .id7-masthead .id7-search .fa {","color: rgba(<%= colour_r %>, <%= colour_g %>, <%= colour_b %>, 0.5);","}","body .id7-masthead .id7-search .twitter-typeahead:hover + .fa {","color: <%= colour %>;","}","body .id7-masthead .id7-search .twitter-typeahead .tt-suggestion.tt-cursor {","background: <%= colour %>;","}","body .form-control:focus {","border-color: <%= colour %>;","-webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(<%= colour_r %>, <%= colour_g %>, <%= colour_b %>, 0.6);","box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(<%= colour_r %>, <%= colour_g %>, <%= colour_b %>, 0.6);","}",".id7-page-header {","background: <%= colour %>;","}",".id7-masthead .id7-logo-row nav {","opacity: 1;","filter: alpha(opacity=100);","}",".id7-masthead .id7-logo-row nav a {","color: <%= colour %> !important;","}"].join("")),NavCSSTemplate:_.template(["<% _.each(panels, function (panel) { %>",'.carousel-nav a[href="#<%= panel.id %>"]:hover {',"color: <%= panel.lighter_colour %>;","}","<% }); %>"].join("")),Defaults:{menu:".carousel-nav",panels:".jumbotron-carousel > article:visible",animation:{length:300,easing:"swing"},keyboardNavigation:{enabled:!0,wrapAround:!1},defaultImageFocalPoint:"center center",defaultImageScaling:"cover",showFullpageImageCarouselTest:function(){return Modernizr.mq("only all and (min-width: 768px)")&&Modernizr.flexbox}}},c=function(){function c(c){c=a.extend({},b.Defaults,c),this.$container=c.container,this.options=c,this.applyPanelStyles(this.$container.find(this.options.panels+"[data-colour]").first().data("colour")),this.onScreenResize(),this.wireEventHandlers()}return a.extend(c.prototype,{wireEventHandlers:function(){a(window).on("resize.id7.homepage",a.proxy(this.onScreenResize,this)),a(window).on("load",a.proxy(function(a){this.onScreenResize(a,!0)},this));var b=this.$container;a(document.body).on("shown.bs.popover",function(){b.data("plugin_panelSnap")&&b.panelSnap("disable")}).on("hidden.bs.popover",function(){b.data("plugin_panelSnap")&&b.panelSnap("enable")})},onScreenResize:function(){var a="undefined"==typeof this.lastIsDesktop,b=this.options.showFullpageImageCarouselTest();b!==this.lastIsDesktop&&(this.initPanelSnap(a,b),this.initMenu(a,b),this.initBackgroundImages(a,b),this.initBackgroundColours(a,b),this.initHashChangeListener(a,b),this.initCaptionIcons(a,b),this.initScrollWatcher(a,b),this.lastIsDesktop=b)},initPanelSnap:function(b,c){var d=this.$container,e=this.options,f=a.proxy(this.onChangePanel,this);d.data("plugin_panelSnap")?d.panelSnap(c?"enable":"disable"):c&&d.panelSnap({panelSelector:e.panels,slideSpeed:e.animation.length,easing:e.animation.easing,keyboardNavigation:e.keyboardNavigation,onActivate:f,onSnapStart:f,onSnapFinish:a.proxy(this.onChangePanelComplete,this)}),c&&b&&window.location.hash.length>0&&d.find(e.panels+window.location.hash).length&&setTimeout(function(){a("html, body").scrollTop(a(window.location.hash).offset().top)},100)},initMenu:function(c,d){var e=this.$container,f=this.options,g=e.find(this.options.menu),h=a.proxy(this.onChangePanel,this);if(g.find('a[href^="#"]').off("click.id7.homepage"),d&&(e.scrollspy({target:f.menu}),g.find('a[href^="#"]').on("click.id7.homepage",function(b){b.preventDefault();var c=this.hash;h(a(c)),a("html, body").animate({scrollTop:a(c).offset().top},f.animation.length,function(){a(".megamenu-links.popover").is(":visible")||(window.location.hash=c)})}),a("#homepage-style-rules-nav").is(":empty"))){var i=[];e.find(f.panels+"[id][data-colour]").each(function(){function b(a,b){return Math.min(255,Math.round(a+255*b))}function c(a){var b=a.toString(16);return 1==b.length?"0"+b:b}function d(a,b,d){return"#"+c(a)+c(b)+c(d)}var e=a(this),f=e.attr("id"),g=e.data("colour"),h=parseInt(g.substring(1,3),16),j=parseInt(g.substring(3,5),16),k=parseInt(g.substring(5,7),16),l=.2,m=b(h,l),n=b(j,l),o=b(k,l);i.push({id:f,colour:g,lighter_colour:d(m,n,o),colour_r:parseInt(g.substring(1,3),16),colour_g:parseInt(g.substring(3,5),16),colour_b:parseInt(g.substring(5,7),16)})}),a("#homepage-style-rules-nav").text(b.NavCSSTemplate({panels:i}))}},initBackgroundColours:function(b,c){var d=this.$container;d.find("[data-colour]").each(function(){var b=a(this),d=b.data("colour"),e=parseInt(d.substring(1,3),16),f=parseInt(d.substring(3,5),16),g=parseInt(d.substring(5,7),16);b.css("background-color",d);var h=b.find(".caption-content");h.css("background-color",d),c&&h.css("background-color","rgba("+e+", "+f+", "+g+", 0.9)")})},initBackgroundImages:function(b,c){var d=this.$container,e=this.options;c?d.find("[data-image]").each(function(){var b=a(this);b.css("background-image","url("+b.data("image")+")");var c=b.data("image-focal-point")||e.defaultImageFocalPoint;b.css("background-position",c);var d=b.data("image-scaling")||e.defaultImageScaling;b.css("background-size",d)}):d.find("[data-image]").css({"background-image":"","background-position":"","background-size":""})},initCaptionIcons:function(b,c){var d=this.$container;c?(d.find("[data-icon] .caption-icon-link").remove(),d.find("[data-icon] .caption-icon").remove()):d.find("[data-icon]").each(function(){var b=a(this),c=b,d=a("<img />").addClass("caption-icon").attr({alt:b.find("h2").first().text(),src:b.data("icon")});if(b.find("a").length>0){var e=a(b.find("a")[0].cloneNode(!1)).addClass("caption-icon-link");c.prepend(e.append(d))}else c.prepend(d)})},initHashChangeListener:function(b,c){b&&!c&&window.location.hash&&this.hashChanged(),a(window).off("hashchange.id7.homepage"),Modernizr.mq("only all and (min-width: 768px)")||a(window).on("hashchange.id7.homepage",a.proxy(this.hashChanged,this))},hashChanged:function(){var b=a(".id7-page-header").outerHeight();setTimeout(function(){window.scrollBy(0,-b)},1)},initScrollWatcher:function(b,c){if(a(window).off("scrollstop.id7.homepage"),!c){var d=this.$container,e=this.options,f=a(".id7-page-header").outerHeight(),g=a.proxy(this.onChangePanel,this),h=a.proxy(this.applyPanelStyles,this);a(window).on("scrollstop.id7.homepage",function(b){var c=f+a(window).scrollTop(),i=d.find(e.panels+"[data-colour]:visible").filter(function(){var b=a(this),d=b.offset().top;return c>=d});if(i.length==d.find(e.panels+"[data-colour]:visible").length)h("#7b428e");else{var j=i.length>0?i.last():d.find(e.panels+"[data-colour]:visible").first();g(j)}})}},onChangePanel:function(a){this.applyPanelStyles(a.data("colour"))},applyPanelStyles:function(c){var d=parseInt(c.substring(1,3),16),e=parseInt(c.substring(3,5),16),f=parseInt(c.substring(5,7),16);try{a("#homepage-style-rules-panels").text(b.PanelsCSSTemplate({colour:c,colour_r:d,colour_g:e,colour_b:f}))}catch(g){}},onChangePanelComplete:function(b){a(".megamenu-links.popover").is(":visible")||(window.location.hash=b.attr("id"))}}),c}();a.fn.homepageCarousel=function(b){function d(d,e){var f=a(e),g=new c(a.extend({},f.data(),b,{container:f}));f.data("id7.homepage-carousel",g)}return b=b||{},this.each(d)},a(function(){a("body").homepageCarousel()})}(jQuery),function(a){"use strict";var b={Defaults:{container:"body",template:['<div class="popover megamenu-links">','<div class="arrow"></div>','<div class="popover-inner">','<div class="popover-content container-fluid"></div>',"</div>","</div>"].join("")}},c=function(){function c(c){c=a.extend({},b.Defaults,c),this.$trigger=c.trigger,this.options=c,this.wireEventHandlers()}return a.extend(c.prototype,{wireEventHandlers:function(){var b=this.$trigger,c=this.options;b.on("click",function(a){return a.preventDefault(),a.stopPropagation(),!1}).popover({container:c.container,content:a(c.target).find("> .container").html(),template:c.template,html:!0,placement:"bottom",title:"More links",trigger:"click"}).on("show.bs.popover",function(){b.data("previous-hash",window.location.hash),window.location.hash=c.target}).on("hide.bs.popover",function(){b.data("previous-hash")&&(window.location.hash=b.data("previous-hash"))}),b.is(":visible")&&window.location.hash==c.target&&b.popover("show"),a("html").on("click.popoverDismiss",function(c){0===a(c.target).closest(".popover").length&&0===a(c.target).closest(".use-popover").length&&b.popover("hide")})}}),c}();a.fn.moreLinksPopover=function(b){function d(d,e){var f=a(e),g=new c(a.extend({},f.data(),b,{trigger:f}));f.data("id7.more-links-popover",g)}return b=b||{},this.each(d)},a(function(){Modernizr.flexbox&&a('[data-toggle="id7:megamenu-popover"]').moreLinksPopover()})}(jQuery);